<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fulter Vacation Corrector - Documentaci√≥n</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #374151;
            background-color: #F9FAFB;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #1E3A8A 0%, #3B82F6 100%);
            color: white;
            padding: 40px 0;
            text-align: center;
            margin-bottom: 40px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(30, 58, 138, 0.2);
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .section {
            background: white;
            margin-bottom: 30px;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border-left: 4px solid #3B82F6;
        }

        .section h2 {
            color: #1E3A8A;
            font-size: 1.8rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section h3 {
            color: #3B82F6;
            font-size: 1.3rem;
            margin: 25px 0 15px 0;
            border-bottom: 2px solid #DBEAFE;
            padding-bottom: 8px;
        }

        .summary-box {
            background: linear-gradient(135deg, #DBEAFE 0%, #EBF4FF 100%);
            border: 1px solid #3B82F6;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 25px;
        }

        .summary-box h3 {
            color: #1E3A8A;
            margin-top: 0;
            border: none;
            padding: 0;
        }

        .country-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .country-card {
            background: #F8FAFC;
            border: 1px solid #E5E7EB;
            border-radius: 8px;
            padding: 20px;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .country-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }

        .country-card h4 {
            color: #1E3A8A;
            font-size: 1.2rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .flag {
            font-size: 1.5rem;
        }

        .case-box {
            background: #F0F9FF;
            border-left: 4px solid #10B981;
            padding: 15px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }

        .case-box.warning {
            background: #FFFBEB;
            border-left-color: #F59E0B;
        }

        .case-box.error {
            background: #FEF2F2;
            border-left-color: #EF4444;
        }

        .example-box {
            background: #F9FAFB;
            border: 1px solid #D1D5DB;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
        }

        .flow-step {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: #F8FAFC;
            border-radius: 8px;
            border-left: 3px solid #3B82F6;
        }

        .step-number {
            background: #3B82F6;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin: 2px;
        }

        .badge.success {
            background: #D1FAE5;
            color: #065F46;
        }

        .badge.warning {
            background: #FEF3C7;
            color: #92400E;
        }

        .badge.info {
            background: #DBEAFE;
            color: #1E40AF;
        }

        .highlight {
            background: #FEF3C7;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .table th,
        .table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #E5E7EB;
        }

        .table th {
            background: #F3F4F6;
            color: #1F2937;
            font-weight: 600;
        }

        .table tr:hover {
            background: #F9FAFB;
        }

        .icon {
            margin-right: 8px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .country-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Fulter Vacation Corrector</h1>
            <p>Sistema Autom√°tico de Correcci√≥n de Balances de Vacaciones</p>
        </div>

        <!-- Resumen Ejecutivo -->
        <div class="section">
            <h2><span class="icon">üìã</span>Resumen Ejecutivo</h2>
            <div class="summary-box">
                <h3>¬øQu√© hace el script?</h3>
                <p><strong>Corrige autom√°ticamente los balances de vacaciones</strong> de empleados Fulter con menos de 1 a√±o de antig√ºedad, aplicando las reglas espec√≠ficas de cada pa√≠s y solucionando los errores iniciales que comete Humand al crear nuevos empleados.</p>
            </div>
            
            <div class="flow-step">
                <div class="step-number">1</div>
                <div>
                    <strong>Obtiene empleados</strong> desde Redash (< 1 a√±o antig√ºedad)
                </div>
            </div>
            <div class="flow-step">
                <div class="step-number">2</div>
                <div>
                    <strong>Consulta balance actual</strong> desde API de Humand
                </div>
            </div>
            <div class="flow-step">
                <div class="step-number">3</div>
                <div>
                    <strong>Calcula balance correcto</strong> seg√∫n reglas del pa√≠s
                </div>
            </div>
            <div class="flow-step">
                <div class="step-number">4</div>
                <div>
                    <strong>Aplica correcci√≥n</strong> si hay diferencia (suma/resta d√≠as)
                </div>
            </div>
            <div class="flow-step">
                <div class="step-number">5</div>
                <div>
                    <strong>Registra operaci√≥n</strong> en hoja de log para auditor√≠a
                </div>
            </div>
        </div>

        <!-- Pa√≠ses Soportados -->
        <div class="section">
            <h2><span class="icon">üåç</span>Pa√≠ses Soportados</h2>
            
            <h3>Grupo A: Mesaniversario de Contrataci√≥n</h3>
            <div class="country-grid">
                <div class="country-card">
                    <h4><span class="flag">üá®üá±</span>Chile</h4>
                    <p><strong>Regla:</strong> 1.25 d√≠as por mes</p>
                    <p><strong>Acreditaci√≥n:</strong> D√≠a de contrataci√≥n cada mes</p>
                    <span class="badge success">Est√°ndar</span>
                </div>
                
                <div class="country-card">
                    <h4><span class="flag">üá®üá∑</span>Costa Rica</h4>
                    <p><strong>Regla:</strong> 1.25 d√≠as por mes</p>
                    <p><strong>Acreditaci√≥n:</strong> D√≠a de contrataci√≥n cada mes</p>
                    <span class="badge success">Est√°ndar</span>
                </div>
                
                <div class="country-card">
                    <h4><span class="flag">üá©üá¥</span>Rep√∫blica Dominicana</h4>
                    <p><strong>Regla:</strong> 1.17 d√≠as por mes</p>
                    <p><strong>Acreditaci√≥n:</strong> D√≠a de contrataci√≥n cada mes</p>
                    <span class="badge success">Est√°ndar</span>
                </div>
                
                <div class="country-card">
                    <h4><span class="flag">üá™üá®</span>Ecuador</h4>
                    <p><strong>Regla:</strong> 1.25 d√≠as por mes</p>
                    <p><strong>Acreditaci√≥n:</strong> D√≠a de contrataci√≥n cada mes</p>
                    <span class="badge success">Est√°ndar</span>
                </div>
                
                <div class="country-card">
                    <h4><span class="flag">üá≤üáΩ</span>M√©xico</h4>
                    <p><strong>Regla:</strong> 1.00 d√≠as por mes</p>
                    <p><strong>Acreditaci√≥n:</strong> D√≠a de contrataci√≥n cada mes</p>
                    <span class="badge success">Est√°ndar</span>
                </div>
                
                <div class="country-card">
                    <h4><span class="flag">üáµüá¶</span>Panam√°</h4>
                    <p><strong>Regla:</strong> 2.73 d√≠as por mes</p>
                    <p><strong>Acreditaci√≥n:</strong> D√≠a de contrataci√≥n cada mes</p>
                    <span class="badge success">Est√°ndar</span>
                </div>
                
                <div class="country-card">
                    <h4><span class="flag">üáµüá™</span>Per√∫</h4>
                    <p><strong>Regla:</strong> 2.50 d√≠as por mes</p>
                    <p><strong>Acreditaci√≥n:</strong> D√≠a de contrataci√≥n cada mes</p>
                    <span class="badge success">Est√°ndar</span>
                </div>
            </div>
            
            <h3>Grupo B: Primer D√≠a del Mes</h3>
            <div class="country-grid">
                <div class="country-card">
                    <h4><span class="flag">üá∫üáæ</span>Uruguay</h4>
                    <p><strong>Regla:</strong> 1.66 d√≠as por mes</p>
                    <p><strong>Acreditaci√≥n:</strong> 1¬∞ de cada mes</p>
                    <span class="badge success">Est√°ndar</span>
                </div>
                
                <div class="country-card">
                    <h4><span class="flag">üá≥üáÆ</span>Nicaragua</h4>
                    <p><strong>Regla:</strong> 2.50 d√≠as por mes</p>
                    <p><strong>Acreditaci√≥n:</strong> 1¬∞ de cada mes</p>
                    <span class="badge success">Est√°ndar</span>
                </div>
                
                <div class="country-card">
                    <h4><span class="flag">üá¨üáπ</span>Guatemala</h4>
                    <p><strong>Regla:</strong> 1.25 d√≠as por mes</p>
                    <p><strong>Acreditaci√≥n:</strong> 1¬∞ de cada mes</p>
                    <span class="badge success">Est√°ndar</span>
                </div>
            </div>
            
            <h3>Grupo C: D√≠as Trabajados (Especial)</h3>
            <div class="country-grid">
                <div class="country-card">
                    <h4><span class="flag">üá¶üá∑</span>Argentina</h4>
                    <p><strong>Regla:</strong> 1 d√≠a cada 20 d√≠as trabajados</p>
                    <p><strong>Especial:</strong> L√≥gica por semestre de contrataci√≥n</p>
                    <p><strong>Acreditaci√≥n:</strong> Continua (cada 20 d√≠as)</p>
                    <span class="badge warning">L√≥gica Compleja</span>
                </div>
            </div>
        </div>

        <!-- Casos Especiales Argentina -->
        <div class="section">
            <h2><span class="icon">üá¶üá∑</span>Argentina - Casos Especiales</h2>
            
            <h3>Empleados A√±o Actual (2025)</h3>
            
            <div class="case-box">
                <h4><strong>Caso 1: Contrataci√≥n Enero - Junio</strong></h4>
                <p><strong>Balance Correcto:</strong> <span class="highlight">0 d√≠as</span></p>
                <p><strong>Raz√≥n:</strong> Seg√∫n ley argentina, vacaciones corresponden al a√±o siguiente</p>
                <p><strong>Qui√©n Acredita:</strong> Humand autom√°ticamente el 1¬∞ de octubre (14 d√≠as completos)</p>
                <p><strong>Acci√≥n Script:</strong> Mantener balance en 0 d√≠as hasta octubre</p>
                
                <div class="example-box">
                    <strong>Ejemplo:</strong> Agus Perello (01/01/2025)<br>
                    ‚Ä¢ Balance actual: 14 d√≠as (error inicial de Humand)<br>
                    ‚Ä¢ Balance correcto: 0 d√≠as<br>
                    ‚Ä¢ Acci√≥n Script: RESTAR 14 d√≠as ‚Üí 0 d√≠as<br>
                    ‚Ä¢ 1¬∞ Octubre: Humand acredita 14 d√≠as autom√°ticamente
                </div>
            </div>
            
            <div class="case-box warning">
                <h4><strong>Caso 2: Contrataci√≥n Julio - Diciembre</strong></h4>
                <p><strong>Balance Correcto:</strong> <span class="highlight">1 d√≠a cada 20 d√≠as trabajados</span></p>
                <p><strong>Raz√≥n:</strong> Vacaciones proporcionales en el mismo a√±o</p>
                <p><strong>Qui√©n Acredita:</strong> El Script el 1¬∞ de octubre (todos los d√≠as de golpe)</p>
                <p><strong>Acci√≥n Script:</strong> Mantener en 0 d√≠as hasta octubre, luego acreditar total</p>
                
                <div class="example-box">
                    <strong>Ejemplo:</strong> Empleado (15/08/2025)<br>
                    ‚Ä¢ Agosto-Septiembre: Balance = 0 d√≠as<br>
                    ‚Ä¢ 1¬∞ Octubre: 84 d√≠as trabajados √∑ 20 = 4 per√≠odos<br>
                    ‚Ä¢ Acci√≥n Script: +4 d√≠as de golpe<br>
                    ‚Ä¢ Resultado: 4 d√≠as acreditados el 1¬∞ octubre
                </div>
            </div>
            
        </div>

        <!-- Tipos de Correcci√≥n -->
        <div class="section">
            <h2><span class="icon">üîß</span>Tipos de Correcci√≥n</h2>
            
            <table class="table">
                <thead>
                    <tr>
                        <th>Tipo</th>
                        <th>Situaci√≥n</th>
                        <th>Operaci√≥n</th>
                        <th>Ejemplo</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="badge success">BALANCE_CORRECTION_EXCESS</span></td>
                        <td>Empleado tiene M√ÅS d√≠as de los que deber√≠a</td>
                        <td>SUBTRACTION</td>
                        <td>Tiene 14, deber√≠a tener 0 ‚Üí Restar 14</td>
                    </tr>
                    <tr>
                        <td><span class="badge warning">BALANCE_CORRECTION_DEFICIT</span></td>
                        <td>Empleado tiene MENOS d√≠as de los que deber√≠a</td>
                        <td>ADDITION</td>
                        <td>Tiene 2, deber√≠a tener 5 ‚Üí Sumar 3</td>
                    </tr>
                    <tr>
                        <td><span class="badge info">VACATION_ACCRUAL</span></td>
                        <td>Acreditaci√≥n normal incremental</td>
                        <td>ADDITION</td>
                        <td>Cumpli√≥ 20 d√≠as ‚Üí Sumar 1 d√≠a</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Ejemplos Pr√°cticos -->
        <div class="section">
            <h2><span class="icon">üí°</span>Ejemplos Pr√°cticos</h2>
            
            <h3>Caso Real: Agus Perello</h3>
            <div class="example-box">
                <strong>Datos:</strong><br>
                ‚Ä¢ ID: agus@humand.co<br>
                ‚Ä¢ Contrataci√≥n: 01/01/2025 (primer semestre)<br>
                ‚Ä¢ Balance actual en Humand: 14 d√≠as<br>
                ‚Ä¢ D√≠as trabajados: 161 d√≠as<br><br>
                
                <strong>An√°lisis del Script:</strong><br>
                ‚Ä¢ Detecta: Empleado primer semestre 2025<br>
                ‚Ä¢ Balance correcto: 0 d√≠as<br>
                ‚Ä¢ Diferencia: 14 - 0 = 14 d√≠as de exceso<br>
                ‚Ä¢ Acci√≥n: RESTAR 14 d√≠as<br>
                ‚Ä¢ Resultado: 0 d√≠as ‚úÖ
            </div>
            
            <h3>Caso Hipot√©tico: Empleado Agosto 2025</h3>
            <div class="example-box">
                <strong>Datos:</strong><br>
                ‚Ä¢ Contrataci√≥n: 15/08/2025 (segundo semestre)<br>
                ‚Ä¢ Balance actual en Humand: 14 d√≠as<br>
                ‚Ä¢ D√≠as trabajados: 120 d√≠as<br><br>
                
                <strong>An√°lisis del Script:</strong><br>
                ‚Ä¢ Detecta: Empleado segundo semestre 2025<br>
                ‚Ä¢ Balance correcto: 6 d√≠as (120√∑20 = 6 per√≠odos)<br>
                ‚Ä¢ Diferencia: 14 - 6 = 8 d√≠as de exceso<br>
                ‚Ä¢ Acci√≥n: RESTAR 8 d√≠as<br>
                ‚Ä¢ Resultado: 6 d√≠as ‚úÖ
            </div>
        </div>

        <!-- Configuraci√≥n y Ejecuci√≥n -->
        <div class="section">
            <h2><span class="icon">‚öôÔ∏è</span>Configuraci√≥n y Ejecuci√≥n</h2>
            
            <h3>Modos de Ejecuci√≥n</h3>
            <div class="case-box">
                <h4><strong>Modo Simulaci√≥n (Recomendado)</strong></h4>
                <p>Ejecuta <code>runTestMode()</code> para ver qu√© har√≠a el script sin hacer cambios reales.</p>
            </div>
            
            <div class="case-box warning">
                <h4><strong>Modo Producci√≥n (Cuidado)</strong></h4>
                <p>Ejecuta <code>runProductionMode()</code> para aplicar correcciones reales en Humand.</p>
            </div>
            
            <h3>Fuentes de Datos</h3>
            <ul>
                <li><strong>Redash:</strong> Lista de empleados < 1 a√±o</li>
                <li><strong>Humand API:</strong> Balances actuales de vacaciones</li>
                <li><strong>Google Sheets:</strong> Log de acreditaciones realizadas</li>
            </ul>
            
            <h3>Registro de Operaciones</h3>
            <p>Todas las operaciones se registran en una hoja de Google Sheets con:</p>
            <ul>
                <li>Fecha y hora de la operaci√≥n</li>
                <li>Datos del empleado</li>
                <li>D√≠as acreditados/restados</li>
                <li>Tipo de operaci√≥n (ADDITION/SUBTRACTION)</li>
                <li>Observaciones detalladas</li>
            </ul>
        </div>

        <!-- Calculadora Interactiva -->
        <div class="section">
            <h2><span class="icon">üßÆ</span>Calculadora Interactiva de Vacaciones</h2>
            
            <div class="summary-box">
                <h3>Simula el c√°lculo del script</h3>
                <p>Ingresa los datos de un empleado para ver qu√© balance de vacaciones deber√≠a tener seg√∫n las reglas del sistema.</p>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 20px;">
                <!-- Formulario -->
                <div>
                    <h3>Datos del Empleado</h3>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">Pa√≠s:</label>
                        <select id="country" style="width: 100%; padding: 8px; border: 1px solid #D1D5DB; border-radius: 4px;">
                            <option value="">Seleccionar pa√≠s...</option>
                            <option value="Chile">üá®üá± Chile</option>
                            <option value="Costa Rica">üá®üá∑ Costa Rica</option>
                            <option value="Republica Dominicana">üá©üá¥ Rep√∫blica Dominicana</option>
                            <option value="Ecuador">üá™üá® Ecuador</option>
                            <option value="Mexico">üá≤üáΩ M√©xico</option>
                            <option value="Panama">üáµüá¶ Panam√°</option>
                            <option value="Peru">üáµüá™ Per√∫</option>
                            <option value="Uruguay">üá∫üáæ Uruguay</option>
                            <option value="Nicaragua">üá≥üáÆ Nicaragua</option>
                            <option value="Guatemala">üá¨üáπ Guatemala</option>
                            <option value="ARGENTINA">üá¶üá∑ Argentina</option>
                        </select>
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">Fecha de Contrataci√≥n:</label>
                        <input type="date" id="hireDate" style="width: 100%; padding: 8px; border: 1px solid #D1D5DB; border-radius: 4px;">
                    </div>
                    
                    <div style="margin-bottom: 15px;">
                        <label style="display: block; margin-bottom: 5px; font-weight: 600;">Fecha de C√°lculo:</label>
                        <input type="date" id="calcDate" style="width: 100%; padding: 8px; border: 1px solid #D1D5DB; border-radius: 4px;">
                    </div>
                    
                    <button onclick="calculateVacations()" style="width: 100%; padding: 12px; background: #3B82F6; color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;">
                        üßÆ Calcular Vacaciones
                    </button>
                </div>
                
                <!-- Resultado -->
                <div>
                    <h3>Resultado del C√°lculo</h3>
                    <div id="result" style="background: #F9FAFB; border: 1px solid #E5E7EB; border-radius: 8px; padding: 20px; min-height: 200px;">
                        <p style="color: #6B7280; text-align: center; margin-top: 60px;">
                            Completa los datos y presiona "Calcular Vacaciones" para ver el resultado.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div style="text-align: center; margin-top: 40px; padding: 20px; color: #6B7280; border-top: 1px solid #E5E7EB;">
            <p><strong>Fulter Vacation Corrector</strong> - Sistema desarrollado para automatizar la gesti√≥n de vacaciones seg√∫n las leyes laborales de cada pa√≠s.</p>
            <p style="margin-top: 10px; font-size: 0.9rem;">Documentaci√≥n actualizada: Junio 2025</p>
        </div>

        <script>
            const countryRules = {
                "Chile": { type: "monthly", daysPerMonth: 1.25 },
                "Costa Rica": { type: "monthly", daysPerMonth: 1.25 },
                "Republica Dominicana": { type: "monthly", daysPerMonth: 1.17 },
                "Ecuador": { type: "monthly", daysPerMonth: 1.25 },
                "Mexico": { type: "monthly", daysPerMonth: 1.00 },
                "Panama": { type: "monthly", daysPerMonth: 2.73 },
                "Peru": { type: "monthly", daysPerMonth: 2.50 },
                "Uruguay": { type: "monthly", daysPerMonth: 1.66 },
                "Nicaragua": { type: "monthly", daysPerMonth: 2.50 },
                "Guatemala": { type: "monthly", daysPerMonth: 1.25 },
                "ARGENTINA": { type: "days_worked", daysPerPeriod: 1, periodDays: 20 }
            };

            document.getElementById('calcDate').value = new Date().toISOString().split('T')[0];

            function calculateDaysDifference(startDate, endDate) {
                const oneDay = 24 * 60 * 60 * 1000;
                return Math.floor((endDate - startDate) / oneDay);
            }

            function calculateMonthsDifference(startDate, endDate) {
                const start = new Date(startDate);
                const end = new Date(endDate);
                let months = (end.getFullYear() - start.getFullYear()) * 12;
                months += end.getMonth() - start.getMonth();

                if (end.getDate() < start.getDate()) {
                    months -= 1;
                }

                return months;
            }

            function calculateVacations() {
                const country = document.getElementById('country').value;
                const hireDateStr = document.getElementById('hireDate').value;
                const calcDateStr = document.getElementById('calcDate').value;
                const resultDiv = document.getElementById('result');

                if (!country) {
                    resultDiv.innerHTML = '<p style="color: #EF4444;">‚ùå Por favor selecciona un pa√≠s</p>';
                    return;
                }

                if (!hireDateStr || !calcDateStr) {
                    resultDiv.innerHTML = '<p style="color: #EF4444;">‚ùå Por favor completa las fechas</p>';
                    return;
                }

                const hireDate = new Date(hireDateStr);
                const calcDate = new Date(calcDateStr);

                if (calcDate < hireDate) {
                    resultDiv.innerHTML = '<p style="color: #EF4444;">‚ùå La fecha de c√°lculo no puede ser anterior a la fecha de contrataci√≥n</p>';
                    return;
                }

                const rule = countryRules[country];
                let resultHTML = `<p><strong>Pa√≠s:</strong> ${country}</p>`;
                resultHTML += `<p><strong>Contrataci√≥n:</strong> ${hireDate.toLocaleDateString()}</p>`;
                resultHTML += `<p><strong>Fecha de c√°lculo:</strong> ${calcDate.toLocaleDateString()}</p>`;

                if (rule.type === "monthly") {
                    const months = calculateMonthsDifference(hireDate, calcDate);
                    const vacationDays = +(months * rule.daysPerMonth).toFixed(2);

                    resultHTML += `<p><strong>Meses trabajados:</strong> ${months}</p>`;
                    resultHTML += `<p><strong>D√≠as de vacaciones calculados:</strong> ${vacationDays}</p>`;
                } else if (rule.type === "days_worked") {
                    const daysWorked = calculateDaysDifference(hireDate, calcDate);
                    const periods = Math.floor(daysWorked / rule.periodDays);
                    const vacationDays = periods * rule.daysPerPeriod;

                    resultHTML += `<p><strong>D√≠as trabajados:</strong> ${daysWorked}</p>`;
                    resultHTML += `<p><strong>D√≠as de vacaciones calculados:</strong> ${vacationDays}</p>`;
                } else {
                    resultHTML += `<p style="color: #EF4444;">‚ùå No se encontr√≥ una regla v√°lida para este pa√≠s.</p>`;
                }

                resultDiv.innerHTML = resultHTML;
            }
        </script>
